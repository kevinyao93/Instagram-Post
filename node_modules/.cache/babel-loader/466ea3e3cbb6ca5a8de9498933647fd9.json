{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport withForwardedRef from 'react-with-forwarded-ref';\nexport var getHeight = function (rows, el) {\n  var _a = window.getComputedStyle(el),\n      borderBottomWidth = _a.borderBottomWidth,\n      borderTopWidth = _a.borderTopWidth,\n      fontSize = _a.fontSize,\n      lineHeight = _a.lineHeight,\n      paddingBottom = _a.paddingBottom,\n      paddingTop = _a.paddingTop;\n\n  var lh = lineHeight === 'normal' ? parseFloat(fontSize) * 1.2 : parseFloat(lineHeight);\n  var rowHeight = rows === 0 ? 0 : lh * rows + parseFloat(borderBottomWidth) + parseFloat(borderTopWidth) + parseFloat(paddingBottom) + parseFloat(paddingTop);\n  var scrollHeight = el.scrollHeight + parseFloat(borderBottomWidth) + parseFloat(borderTopWidth);\n  return Math.max(rowHeight, scrollHeight);\n};\nexport var resize = function (rows, el) {\n  if (el) {\n    var overflowY = 'hidden';\n    var maxHeight = window.getComputedStyle(el).maxHeight;\n\n    if (maxHeight !== 'none') {\n      var maxHeightN = parseFloat(maxHeight);\n\n      if (maxHeightN < el.scrollHeight) {\n        overflowY = '';\n      }\n    }\n\n    el.style.height = '0';\n    el.style.overflowY = overflowY;\n    el.style.height = getHeight(rows, el) + \"px\";\n  }\n};\n\nvar ExpandingTextarea = function (_a) {\n  var forwardedRef = _a.forwardedRef,\n      props = __rest(_a, [\"forwardedRef\"]);\n\n  var isForwardedRefFn = typeof forwardedRef === 'function';\n  var internalRef = useRef();\n  var ref = isForwardedRefFn || !forwardedRef ? internalRef : forwardedRef;\n  var rows = props.rows ? parseInt('' + props.rows, 10) : 0;\n  var onChange = props.onChange,\n      onInput = props.onInput;\n  useEffect(function () {\n    resize(rows, ref.current);\n  }, [ref, rows, props.value]);\n  var handleInput = useCallback(function (e) {\n    if (onChange) {\n      onChange(e);\n    }\n\n    if (onInput) {\n      onInput(e);\n    }\n\n    resize(rows, ref.current);\n  }, [onChange, onInput, ref, rows]);\n  var handleRef = useCallback(function (node) {\n    ref.current = node;\n\n    if (isForwardedRefFn) {\n      forwardedRef(node);\n    }\n  }, [forwardedRef, isForwardedRefFn, ref]);\n  return React.createElement(\"textarea\", __assign({}, props, {\n    onInput: handleInput,\n    ref: handleRef,\n    rows: rows\n  }));\n};\n\nexport default withForwardedRef(ExpandingTextarea);","map":{"version":3,"sources":["/Users/kevinyao/Documents/GitHub/my-app/Instagram-Post/node_modules/react-expanding-textarea/dist/esm/index.js"],"names":["__assign","__rest","React","useCallback","useEffect","useRef","withForwardedRef","getHeight","rows","el","_a","window","getComputedStyle","borderBottomWidth","borderTopWidth","fontSize","lineHeight","paddingBottom","paddingTop","lh","parseFloat","rowHeight","scrollHeight","Math","max","resize","overflowY","maxHeight","maxHeightN","style","height","ExpandingTextarea","forwardedRef","props","isForwardedRefFn","internalRef","ref","parseInt","onChange","onInput","current","value","handleInput","e","handleRef","node","createElement"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { useCallback, useEffect, useRef, } from 'react';\nimport withForwardedRef from 'react-with-forwarded-ref';\nexport var getHeight = function (rows, el) {\n    var _a = window.getComputedStyle(el), borderBottomWidth = _a.borderBottomWidth, borderTopWidth = _a.borderTopWidth, fontSize = _a.fontSize, lineHeight = _a.lineHeight, paddingBottom = _a.paddingBottom, paddingTop = _a.paddingTop;\n    var lh = lineHeight === 'normal'\n        ? parseFloat(fontSize) * 1.2\n        : parseFloat(lineHeight);\n    var rowHeight = rows === 0\n        ? 0\n        : lh * rows +\n            parseFloat(borderBottomWidth) +\n            parseFloat(borderTopWidth) +\n            parseFloat(paddingBottom) +\n            parseFloat(paddingTop);\n    var scrollHeight = el.scrollHeight + parseFloat(borderBottomWidth) + parseFloat(borderTopWidth);\n    return Math.max(rowHeight, scrollHeight);\n};\nexport var resize = function (rows, el) {\n    if (el) {\n        var overflowY = 'hidden';\n        var maxHeight = window.getComputedStyle(el).maxHeight;\n        if (maxHeight !== 'none') {\n            var maxHeightN = parseFloat(maxHeight);\n            if (maxHeightN < el.scrollHeight) {\n                overflowY = '';\n            }\n        }\n        el.style.height = '0';\n        el.style.overflowY = overflowY;\n        el.style.height = getHeight(rows, el) + \"px\";\n    }\n};\nvar ExpandingTextarea = function (_a) {\n    var forwardedRef = _a.forwardedRef, props = __rest(_a, [\"forwardedRef\"]);\n    var isForwardedRefFn = typeof forwardedRef === 'function';\n    var internalRef = useRef();\n    var ref = (isForwardedRefFn || !forwardedRef ? internalRef : forwardedRef);\n    var rows = props.rows ? parseInt('' + props.rows, 10) : 0;\n    var onChange = props.onChange, onInput = props.onInput;\n    useEffect(function () {\n        resize(rows, ref.current);\n    }, [ref, rows, props.value]);\n    var handleInput = useCallback(function (e) {\n        if (onChange) {\n            onChange(e);\n        }\n        if (onInput) {\n            onInput(e);\n        }\n        resize(rows, ref.current);\n    }, [onChange, onInput, ref, rows]);\n    var handleRef = useCallback(function (node) {\n        ref.current = node;\n        if (isForwardedRefFn) {\n            forwardedRef(node);\n        }\n    }, [forwardedRef, isForwardedRefFn, ref]);\n    return (React.createElement(\"textarea\", __assign({}, props, { onInput: handleInput, ref: handleRef, rows: rows })));\n};\nexport default withForwardedRef(ExpandingTextarea);\n"]},"metadata":{},"sourceType":"module"}